<!doctype html>
<html>
  <head>
    <title></title>
    <style>
      body { background-color: grey; }
      canvas { background-color: white; }
      textarea { background-color: black; foreground-color: white; }
    </style>
  </head>

  <body>

    <center>
      <canvas id="my-canvas" width="1000" height="800">
        Your browser does not support the HTML5 canvas element.
      </canvas>
    </center>

    <script type="text/javascript" src="js/gl-matrix.js"></script>
    <script type="text/javascript" src="src/ShaderProgram.js"></script>

    <script type="text/javascript" src="src/objects/Object3D.js"></script>
    <script type="text/javascript" src="src/objects/printer_objects/RevolutionObjectA1.js"></script>
    <script type="text/javascript" src="src/objects/printer_objects/SweepObjectB2.js"></script>

    <script type="text/javascript" src="src/curves/Curve.js"></script>
    <script type="text/javascript" src="src/curves/BSpline.js"></script>
    <script type="text/javascript" src="src/curves/QuadraticBSpline.js"></script>
    <script type="text/javascript" src="src/curves/StraightLine.js"></script>

    <script id="shader-vs" type="x-shader/x-vertex">
      precision highp float;

      attribute vec3 aVertexPosition;
      attribute vec3 aVertexNormal;

      uniform mat4 model_matrix;            
      uniform mat4 view_matrix;
      uniform mat4 projection_matrix;

      uniform mat4 normal_matrix;

      varying vec3 vNormal;    
      varying vec3 vPosWorld;  

      void main(void) {
        gl_Position = projection_matrix * view_matrix * model_matrix * vec4(aVertexPosition, 1.0);

        vPosWorld = (model_matrix * vec4(aVertexPosition,1.0) ).xyz;    //la posicion en coordenadas de mundo
        vNormal= (normal_matrix * vec4(aVertexNormal,1.0) ).xyz;       //la normal en coordenadas de mundo                 
      }
    </script>

    <script id="shader-fs" type="x-shader/x-fragment">
      precision highp float;
      varying vec3 vNormal;
      varying vec3 vPosWorld;

      void main(void) {
        vec3 lightVec = normalize(vec3(0.0,3.0,5.0) - vPosWorld);
        vec3 diffColor = mix(vec3(0.7,0.7,0.7), vNormal, 0.4);
        vec3 color = dot(lightVec, vNormal) * diffColor + vec3(0.2,0.2,0.2);

        gl_FragColor = vec4(color,1.0);
      }
    </script>

    <script src="src/index.js"></script>

  </body>
</html>